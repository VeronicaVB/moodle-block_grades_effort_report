define ("block_grades_effort_report/controls",["jquery","core/ajax","core/log","block_grades_effort_report/chart"],function(a,b,c,d){'use strict';function e(){}e.prototype.main=function(){var a=this;a.trendChart()};e.prototype.trendChart=function(){var a=document.getElementById("trendChart"),b=document.querySelector("#performance");if(""===b.dataset.performance){var q=document.createElement("p");q.innerHTML="Trend Data not available";a.parentNode.replaceChild(q,a);return}var c=JSON.parse(b.dataset.performance);console.log(c);for(var e=[],f=[],g=[],h=[],j=[],k=[],l={avgattendance:"Average Attendance",avgeffort:"Average Effort",avggrades:"Average Grade",avgradeterm:"Average Grade"},m=0;m<c.length;m++){var n=c[m],o=n.details.year.toString(),p=n.details.term.toString();e.push(["T"+p,o]);k.push(n.details.avggrades);j.push(n.details.avggrades);h.push(n.details.avgeffort);g.push(n.details.avgattendance)}f.push({label:l.avggrades,data:j,fill:!1,borderColor:"#31326f",backgroundColor:"#31326f",tension:.1});f.push({label:l.avgeffort,data:h,fill:!1,borderColor:"#ffc93c",backgroundColor:"#ffc93c",tension:.1});f.push({label:l.avgattendance,data:g,fill:!1,borderColor:"#1687a7",backgroundColor:"#1687a7",tension:.1});new d(a,{type:"line",data:{labels:e,datasets:f},options:{responsive:!0,maintainAspectRatio:!1},plugins:[{id:"custom_canvas_background_color",beforeDraw:function beforeDraw(a){var b=a.canvas.getContext("2d");b.save();b.globalCompositeOperation="destination-over";b.fillStyle="#f6f5f5";b.fillRect(0,0,a.width,a.height);b.restore()}}]})};return{init:function(){var b=a("[data-block=\"grades_effort_report\"]").first();if(!b.length){c.debug("block_grades_effort_report/control: wrapping region not found!");return}var d=new e;d.main()}}});
//# sourceMappingURL=controls.min.js.map
