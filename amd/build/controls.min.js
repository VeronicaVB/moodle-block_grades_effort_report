define ("block_grades_effort_report/controls",["jquery","core/log","block_grades_effort_report/chart"],function(a,b,c){'use strict';function d(){}d.prototype.main=function(){var a=this,b=document.querySelector(".grade-effort-trend").getAttribute("data-campus");if("Senior"==b){a.trendChartSenior()}else{a.trendChartPrimary()}};d.prototype.trendChartSenior=function(){var a=document.getElementById("trendChart");if(!a){return}var d=document.querySelector("#performance"),e=JSON.parse(d.dataset.performance);b.debug(e);for(var f=[],g=[],h=[],j=[],k=[],l=[],m={avgattendance:"Average Attendance",avgeffort:"Average Effort",avggrades:"Average Grade"},n=0;n<e.length;n++){var o=e[n],p=o.details.year.toString(),q=o.details.term.toString();f.push(["T"+q,p]);l.push(o.details.avggrades);k.push(o.details.avggrades);j.push(o.details.avgeffort);h.push(o.details.avgattendance)}g.push({label:m.avggrades,data:k,fill:!1,borderColor:"#31326f",backgroundColor:"#31326f",tension:.1});g.push({label:m.avgeffort,data:j,fill:!1,borderColor:"#ffc93c",backgroundColor:"#ffc93c",tension:.1});g.push({label:m.avgattendance,data:h,fill:!1,borderColor:"#1687a7",backgroundColor:"#1687a7",tension:.1});new c(a,{type:"line",data:{labels:f,datasets:g},options:{responsive:!0,maintainAspectRatio:!1},plugins:[{id:"custom_canvas_background_color",beforeDraw:function beforeDraw(a){var b=a.canvas.getContext("2d");b.save();b.globalCompositeOperation="destination-over";b.fillStyle="#f6f5f5";b.fillRect(0,0,a.width,a.height);b.restore()}}]})};d.prototype.trendChartPrimary=function(){var a=document.getElementById("trendChart");if(!a){return}var d=document.querySelector("#performance"),e=JSON.parse(d.dataset.performance);b.debug(e);for(var f=[],g=[],h=[],j=[],k=[],l={avgattendance:"Average Attendance",avgeffort:"Average Effort",avggrades:"Average Grade"},m={e:"Excellent (E)",vg:"Very Good (VG)",avg:"Average (AVG)",ni:"Needs Improvement (NI)"},n={be:"Below Expectations",gs:"Good start (GS)",ms:"Making strides (MS)",grwi:"Go run with it (GRWI)",ae:"Above expectations"},o=0;o<e.length;o++){var q=e[o],p=q.details.year.toString(),r=q.details.term.toString();f.push(["T"+r,p]);if(null!=q.details.avggrades){k.push(q.details.avggrades)}if(null!=q.details.effortaverage){j.push(q.details.effortaverage)}if(null!=q.details.percentageattended){h.push(q.details.percentageattended)}}g.push({label:l.avggrades,data:k,fill:!1,borderColor:"#31326f",backgroundColor:"#31326f",tension:.1});g.push({label:l.avgeffort,data:j,fill:!1,borderColor:"#ffc93c",backgroundColor:"#ffc93c",tension:.1});g.push({label:l.avgattendance,data:h,fill:!1,borderColor:"#1687a7",backgroundColor:"#1687a7",tension:.1});new c(a,{type:"line",data:{labels:f,datasets:g},options:{responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:function label(a){if(a.dataset.label==l.avggrades){if(0<a.parsed.y&&20>=a.parsed.y){return n.be}else if(20<a.parsed.y&&40>=a.parsed.y){return n.gs}else if(40<a.parsed.y&&60>=a.parsed.y){return n.ms}else if(60<a.parsed.y&&80>=a.parsed.y){return n.grwi}else if(80<a.parsed.y){return n.ae}}if(a.dataset.label==l.avgeffort){b.debug(a.dataset.label);b.debug(a.parsed.y);if(0<parseFloat(a.parsed.y)&&25>=parseFloat(a.parsed.y)){return m.ni}else if(25<parseFloat(a.parsed.y)&&50>=parseFloat(a.parsed.y)){return m.avg}else if(50<parseFloat(a.parsed.y)&&95>parseFloat(a.parsed.y)){return m.vg}else if(95<=parseFloat(a.parsed.y)){return m.e}}else{return a.parsed.y+"%"}}}}},scales:{y:{suggestedMin:25,display:!1}}},plugins:[{id:"custom_canvas_background_color",beforeDraw:function beforeDraw(a){var b=a.canvas.getContext("2d");b.save();b.globalCompositeOperation="destination-over";b.fillStyle="#f6f5f5";b.fillRect(0,0,a.width,a.height);b.restore()}}]})};return{init:function(){var c=a("[data-block=\"grades_effort_report\"]").first();if(!c.length){b.debug("block_grades_effort_report/control: wrapping region not found!");return}var e=new d;e.main()}}});
//# sourceMappingURL=controls.min.js.map
