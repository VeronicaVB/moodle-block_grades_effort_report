{"version":3,"sources":["../src/controls.js"],"names":["define","$","Log","Chart","Controls","prototype","main","self","campus","document","querySelector","getAttribute","trendChartSenior","trendChartPrimary","ctx","getElementById","performanceEl","performance","JSON","parse","dataset","debug","labels","sets","attendance","effort","grades","gradeperterm","TAGS","avgattendance","avgeffort","avggrades","i","length","p","year","details","toString","term","push","label","data","fill","borderColor","backgroundColor","tension","type","datasets","options","responsive","maintainAspectRatio","plugins","id","beforeDraw","chart","canvas","getContext","save","globalCompositeOperation","fillStyle","fillRect","width","height","restore","TAGS_EFFORTS_DESC","e","vg","avg","ni","TAGS_GRADES_DESC","be","gs","ms","grwi","ae","effortaverage","percentageattended","tooltip","callbacks","context","parsed","y","parseFloat","scales","suggestedMin","display","init","block","first","control"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package   block_grades_effort_report\n * @copyright 2021 Veronica Bermegui\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/log', 'block_grades_effort_report/chart'], function ($, Log, Chart) {\n    'use strict';\n\n    function init() {\n\n        var block = $('[data-block=\"grades_effort_report\"]').first();\n\n        if (!block.length) {\n            Log.debug('block_grades_effort_report/control: wrapping region not found!');\n            return;\n        }\n\n        var control = new Controls();\n        control.main();\n    }\n\n    /**\n     * Controls a single block_grades_effort_report block instance contents.\n     *\n     * @constructor\n     */\n    function Controls() {\n\n    }\n\n    /**\n     * Run the controller.\n     *\n     */\n    Controls.prototype.main = function () {\n        let self = this;\n\n        let campus = document.querySelector('.grade-effort-trend').getAttribute('data-campus');\n\n        if (campus == \"Senior\") {\n            self.trendChartSenior();\n        } else {\n            self.trendChartPrimary();\n        }\n\n    };\n\n    Controls.prototype.trendChartSenior = function () {\n\n        const ctx = document.getElementById(\"trendChart\");\n        if (!ctx) {\n            return;\n        }\n        const performanceEl = document.querySelector(\"#performance\");\n        const performance = JSON.parse(performanceEl.dataset.performance);\n        Log.debug(performance);\n        let labels = [];\n        let sets = [];\n        let attendance = [];\n        let effort = [];\n        let grades = [];\n        let gradeperterm = [];\n\n        const TAGS = {\n            avgattendance: 'Average Attendance',\n            avgeffort: 'Average Effort',\n            avggrades: 'Average Grade',\n        }\n\n        for (let i = 0; i < performance.length; i++) {\n            var p = performance[i];\n\n            const year = p.details.year.toString();\n            const term = p.details.term.toString();\n\n            labels.push(['T' + term, year]);\n            gradeperterm.push(p.details.avggrades);\n\n            grades.push(p.details.avggrades);\n            effort.push(p.details.avgeffort)\n            attendance.push(p.details.avgattendance)\n\n        }\n\n        sets.push({\n            label: TAGS.avggrades,\n            data: grades,\n            fill: false,\n            borderColor: '#31326f',\n            backgroundColor: '#31326f',\n            tension: 0.1,\n        });\n\n        sets.push({\n            label: TAGS.avgeffort,\n            data: effort,\n            fill: false,\n            borderColor: '#ffc93c',\n            backgroundColor: '#ffc93c',\n            tension: 0.1\n        });\n\n        sets.push({\n            label: TAGS.avgattendance,\n            data: attendance,\n            fill: false,\n            borderColor: '#1687a7',\n            backgroundColor: '#1687a7',\n            tension: 0.1\n        });\n\n        const data = {\n            labels: labels,\n            datasets: sets\n        };\n\n        const options = {\n            responsive: true,\n            maintainAspectRatio: false,\n\n        }\n\n        const plugin = {\n            id: 'custom_canvas_background_color',\n            beforeDraw: (chart) => {\n                const ctx = chart.canvas.getContext('2d');\n                ctx.save();\n                ctx.globalCompositeOperation = 'destination-over';\n                ctx.fillStyle = '#f6f5f5';\n                ctx.fillRect(0, 0, chart.width, chart.height);\n                ctx.restore();\n            }\n        };\n\n        var myLineChart = new Chart(ctx, {\n            type: 'line',\n            data: data,\n            options: options,\n            plugins: [plugin],\n\n        });\n\n    };\n\n    Controls.prototype.trendChartPrimary = function () {\n        const ctx = document.getElementById(\"trendChart\");\n        if (!ctx) {\n            return;\n        }\n\n        const performanceEl = document.querySelector(\"#performance\");\n        const performance = JSON.parse(performanceEl.dataset.performance);\n        Log.debug(performance);\n        let labels = [];\n        let sets = [];\n        let attendance = [];\n        let effort = [];\n        let grades = [];\n        let gradeperterm = [];\n\n        const TAGS = {\n            avgattendance: 'Average Attendance',\n            avgeffort: 'Average Effort',\n            avggrades: 'Average Grade',\n        }\n\n        const TAGS_EFFORTS_DESC = {\n            e: 'Excellent (E)',\n            vg: 'Very Good (VG)',\n            avg: 'Average (AVG)',\n            ni: 'Needs Improvement (NI)',\n        }\n\n        const TAGS_GRADES_DESC = {\n            be: 'Below Expectations',\n            gs: 'Good start (GS)',\n            ms: 'Making strides (MS)',\n            grwi: 'Go run with it (GRWI)',\n            ae: 'Above expectations'\n        }\n\n        for (let i = 0; i < performance.length; i++) {\n            var p = performance[i];\n\n            const year = p.details.year.toString();\n            const term = p.details.term.toString();\n\n            labels.push(['T' + term, year]);\n          \n\n            if (p.details.avggrades != null) {\n                grades.push(p.details.avggrades);\n            }\n\n            if (p.details.effortaverage != null) {\n                effort.push(p.details.effortaverage);\n            }\n         \n            if (p.details.percentageattended != null) {\n                attendance.push(p.details.percentageattended);\n            }\n\n        }\n\n        sets.push({\n            label: TAGS.avggrades,\n            data: grades,\n            fill: false,\n            borderColor: '#31326f',\n            backgroundColor: '#31326f',\n            tension: 0.1,\n        });\n\n        sets.push({\n            label: TAGS.avgeffort,\n            data: effort,\n            fill: false,\n            borderColor: '#ffc93c',\n            backgroundColor: '#ffc93c',\n            tension: 0.1\n        });\n\n        sets.push({\n            label: TAGS.avgattendance,\n            data: attendance,\n            fill: false,\n            borderColor: '#1687a7',\n            backgroundColor: '#1687a7',\n            tension: 0.1\n        });\n\n        const data = {\n            labels: labels,\n            datasets: sets\n        };\n\n        const options = {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n                tooltip: {\n                    callbacks: {\n                        label: function (context) {\n                         \n                            if (context.dataset.label == TAGS.avggrades) {\n                              \n                                if (context.parsed.y > 0.00 && context.parsed.y <= 20.00) {\n                                    return TAGS_GRADES_DESC.be; \n                                } else if (context.parsed.y > 20.00 && context.parsed.y <= 40.00) {\n                                    return TAGS_GRADES_DESC.gs\n                                } else if (context.parsed.y > 40.00 && context.parsed.y <= 60.00) {\n                                    return TAGS_GRADES_DESC.ms;\n                                } else if (context.parsed.y > 60.00 && context.parsed.y <= 80.00) {\n                                    return TAGS_GRADES_DESC.grwi;\n                                } else if (context.parsed.y > 80.00) {\n                                    return TAGS_GRADES_DESC.ae\n                                }\n                            } \n                            if (context.dataset.label == TAGS.avgeffort) {\n                                Log.debug(context.dataset.label); \n                                Log.debug(context.parsed.y);\n                                if (parseFloat(context.parsed.y) > 0.00 && parseFloat(context.parsed.y) <= 25.00) {\n                                    return TAGS_EFFORTS_DESC.ni; \n                                } else if (parseFloat(context.parsed.y) > 25.00 && parseFloat(context.parsed.y) <= 50.00) {\n                                    return TAGS_EFFORTS_DESC.avg\n                                } else if (parseFloat(context.parsed.y) > 50.00 && parseFloat(context.parsed.y) < 95.00) {\n                                    return TAGS_EFFORTS_DESC.vg;\n                                } else if ( parseFloat(context.parsed.y) >= 95.00) {\n                                    return TAGS_EFFORTS_DESC.e;\n                                }\n                            } else {\n                             \n                                return context.parsed.y + \"%\";\n                            }\n                        }\n                    }\n                }\n            },\n            scales: {\n                y:{\n                    suggestedMin: 25,\n                    display: false,\n                  \n                }\n            }\n\n\n        }\n\n        const plugin = {\n            id: 'custom_canvas_background_color',\n            beforeDraw: (chart) => {\n                const ctx = chart.canvas.getContext('2d');\n                ctx.save();\n                ctx.globalCompositeOperation = 'destination-over';\n                ctx.fillStyle = '#f6f5f5';\n                ctx.fillRect(0, 0, chart.width, chart.height);\n                ctx.restore();\n            }\n        };\n\n        var myLineChart = new Chart(ctx, {\n            type: 'line',\n            data: data,\n            options: options,\n            plugins: [plugin],\n\n        });\n    }\n\n\n    return {\n        init: init\n    }\n});"],"file":"controls.min.js"}